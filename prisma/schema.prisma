// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id              String    @id @default(uuid())
  firstName       String    @map("first_name")
  lastName        String?   @map("last_name")
  address         String    @map("address")
  phoneNumber     String    @map("phone_numeber")
  email           String    @unique
  password        String
  salt            String
  soldProducts    Product[] @relation("SoldProducts")
  createdProducts Product[] @relation("CreatedProducts")
  boughtProducts  Product[] @relation("BouughtProducts")

  @@map("users")
}

model Product {
  id          String  @id @default(uuid())
  title       String  @map("title")
  category    String  @map("category")
  description String  @map("description")
  buyPrice    String  @map("buy_price")
  rentPrice   String  @map("rent_price")
  seller      User?   @relation("SoldProducts", fields: [sellerId], references: [id])
  sellerId    String? @map("seller_id")
  creator     User?   @relation("CreatedProducts", fields: [creatorId], references: [id])
  creatorId   String? @map("creator_id")
  buyer       User?   @relation("BouughtProducts", fields: [buyerId], references: [id])
  buyerId     String? @map("buyer_id")

  @@map("products")
}
